<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 720px;
        width: 100%;
       }
    </style>
  </head>
  <body>
    <h3>Google Map</h3>
    <div id="directions-panel"></div>
    <div id="map"></div>
    <script>
      function initMap() {
//---------------------------------route map----------
		var test_point1 = {lat: 39.6366392, lng: -94.3229319};
		var test_point2 = {lat: 39.3966392, lng: -94.8929319};
      
		var umkc = {lat: 39.1366392, lng: -94.5229319};
 		var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 8,
          center: umkc
        });
		  directionsDisplay.setMap(map);
		  calculateAndDisplayRoute(directionsService, directionsDisplay);
    

       function calculateAndDisplayRoute(directionsService, directionsDisplay) {
        directionsService.route({
          origin: test_point1,
          destination: test_point2,
          travelMode: 'DRIVING'
        },
		  function(response, status) {
          if (status === 'OK') {
            directionsDisplay.setDirections(response);
			  var summaryPanel = document.getElementById('directions-panel');
			  var route = response.routes[0];
			  summaryPanel.innerHTML = '';
			  for (var i = 0; i < route.legs.length; i++) {
              var routeSegment = i + 1;
              summaryPanel.innerHTML += '<b>Route Segment: ' + routeSegment +
                  '</b><br>';
              summaryPanel.innerHTML += route.legs[i].start_address + ' to ';
              summaryPanel.innerHTML += route.legs[i].end_address + '<br>';
              summaryPanel.innerHTML += route.legs[i].distance.text + '<br><br>';
            
			  }
			  showSteps(response);
			  
          } else {
            window.alert('Directions request failed due to ' + status);
          }
        });
	  }

//------------------------------route map end----------
//		  var map = new google.maps.Map(document.getElementById('map'), {
//          zoom: 7,
//          center: umkc
//        });
		  
		  // icon marker---------------
		  var truck_image = 'http://imgh.us/truck_01.png';
        var marker = new google.maps.Marker({
      
		  position: umkc	,
          map: map,
		  icon : truck_image,
			label: "UMKC"
        });
		  // labels---------------
//		  var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
//		  var labelIndex = 0;
//		  
//		  var marker1 = new google.maps.Marker({
//      
//		  position: test_point1	,
//          map: map,
//		  label: labels[labelIndex++ % labels.length]
//        });
//		  var marker1 = new google.maps.Marker({
//      
//		  position: test_point2	,
//          map: map,
//		  label: labels[labelIndex++ % labels.length]
//        });
		   // multiple markers---------
		  var multiple_markers = [
        ['waste_01', 39.6366392, -94.9229319],
        ['waste_02', 39.1366392, -94.9229319],
        ['waste_03', 39.9366392, -94.5229319],
        ['waste_04', 39.7366392, -94.15229319],
        ['waste_05', 39.6366392, -94.02293192]
      ];
		   for (var i = 0; i < multiple_markers.length; i++) {
          var m_m = multiple_markers[i];
		  var marker1 = new google.maps.Marker({
      
		  position: {lat: m_m[1], lng: m_m[2]},	
          map: map,
		
            label: m_m[0]
        });
		  
      }
//------------------------duration--------------------
//------------------------duration--------------------		  
		  
		  function showSteps(directionResult) {
  
  var myRoute = directionResult.routes[0].legs[0];

  for (var i = 0; i < myRoute.steps.length; i++) {
      var marker = new google.maps.Marker({
        position: myRoute.steps[i].start_point,
        map: map
      });
      attachInstructionText(marker, myRoute.steps[i].instructions);
      markerArray[i] = marker;
  }
}
		  
		  
		  
	  function attachInstructionText(marker, text) {
  google.maps.event.addListener(marker, 'click', function() {
    stepDisplay.setContent(text);
    stepDisplay.open(map, marker);
  });
}
	  
	  
	  
	  
	  }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA57pa1CuyTV7v6-ds5VkdUoiJTL-kUemI&callback=initMap">
    </script>
  </body>
</html>